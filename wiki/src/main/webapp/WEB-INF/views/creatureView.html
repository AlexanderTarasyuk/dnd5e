<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layouts/default">
<head>
<title th:text="${'Dnd 5E '+ creature.name}"></title>
<meta charset="utf-8">

<link rel="icon" th:href="@{/resources/icon.png}">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script
	src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</head>
<body>
	<div th:insert="fragments/header :: header(@{/creatures})"></div>
	<div class="container" style="margin-top: 60px">
		<div class="card" th:object="${creature}">
			<div class="card-header">
				<span th:text="*{name} + ' ('+ *{englishName} + ')'"></span><small>
					<span th:text="*{size.cyrilicName}"></span> <span
					th:text="*{type.cyrilicName}"></span> <a
					th:if="*{raceName != null}"
					th:href="@{'/creatures/race/' + *{raceId}}"><span
						th:text="*{raceName}"></span></a>, <span
					th:text="*{alignment.cyrilicName}"></span>
				</small>
				<ul class="nav nav-pills card-header-pills">
					<li class="nav-item"><a class="nav-link"
						th:href="@{'/creatures/creature/classic/' + ${creature.id}}">Классический
							вид</a></li>
				</ul>
			</div>
			<div class="card-body">
				<div>
					<b>Класс доспеха</b> <span th:text="*{AC}"></span>
				</div>
				<div>
					<b>Хиты</b> <span th:text="*{averageHp}"></span> (<span
						th:text="*{countDiceHp}"></span><span th:text="*{diceHp}"></span><span
						th:if="${creature.bonusHP != null}"> + <span
						th:text="*{bonusHP}"></span></span>)
				</div>
				<div>
					<b>Скорость</b> <span th:text="*{speed}"></span> фт. <span
						th:if="${creature.flySpeed != null}">, летая <span
						th:text="*{flySpeed}"></span> фт.
					</span> <span th:if="${creature.climbingSpeed != null}">, лазая <span
						th:text="*{climbingSpeed}"></span> фт.
					</span> <span th:if="${creature.swimmingSpped != null}">, плавая <span
						th:text="*{swimmingSpped}"></span> фт.
					</span>
				</div>
			</div>
			<div class="card">
				<div class="card-body">
					<table class="table text-center">
						<thead>
							<tr>
								<th class="text-center">СИЛ</th>
								<th class="text-center">ЛОВ</th>
								<th class="text-center">ТЕЛ</th>
								<th class="text-center">ИНТ</th>
								<th class="text-center">МДР</th>
								<th class="text-center">ХАР</th>
							</tr>
						</thead>
						<tr>
							<td th:text="${creature.strengthText()}" />
							<td th:text="${creature.dexterityText()}" />
							<td th:text="${creature.constitutionText()}" />
							<td th:text="${creature.intellectText()}" />
							<td th:text="${creature.wizdomText()}" />
							<td th:text="${creature.charismaText()}" />
						</tr>
					</table>
				</div>
			</div>
			<div class="card">
				<div class="card-body">
					<div th:if="*{!savingThrows.empty}">
						<b>Спасброски </b><span
							th:each="savingThrow, iterStat : *{savingThrows}"
							th:text="!${iterStat.last} ? ${savingThrow.text} + ', ': ${savingThrow.text}"></span>
					</div>
					<div th:if="*{!skills.empty}">
						<b>Навыки </b><span th:each="skill, iterStat : *{skills}"
							th:text="${skill.text}"></span>
					</div>
					<div th:if="*{!immunityDamages.empty}">
						<b>Иммунитет к урону </b><span
							th:each="immunityDamage, iterStat : *{immunityDamages}"
							th:text="!${iterStat.last} ? ${immunityDamage.cyrilicName} + ', ': ${immunityDamage.cyrilicName}"></span>
					</div>
					<div th:if="*{!resistanceDamages.empty}">
						<b>Сопротивление к урону </b><span
							th:each="resistanceDamages, iterStat : *{resistanceDamages}"
							th:text="!${iterStat.last} ? ${resistanceDamages.cyrilicName} + ', ': ${resistanceDamages.cyrilicName}"></span>
					</div>
					<div th:if="*{!immunityStates.empty}">
						<b>Иммунитет к состоянию </b><span
							th:each="state, iterStat : *{immunityStates}"
							th:text="!${iterStat.last} ? ${state.cyrilicName} + ', ': ${state.cyrilicName}"></span>
					</div>
					<div>
						<b>Чувства</b> <span th:text="*{vision}"></span>
					</div>
					<div>
						<b>Языки</b> <span th:each="language, iterStat : *{languages}"
							th:text="!${iterStat.last} ? ${language.name} + ', ': ${language.name}">
						</span>
					</div>
					<div>
						<b>Опасность</b> <span th:text="*{challengeRating}"></span> (<span
							th:text="*{exp}"></span> опыта)
					</div>
				</div>
			</div>
			<div class="card">
				<div class="card-body">
					<div th:each="feat : *{feats}">
						<h5 class="card-title" th:text="${feat.name}"></h5>
						<p th:utext="${feat.description}" />
					</div>
				</div>
			</div>
			<div th:if="${!actions.empty}" class="card">
				<div class="card-header">Действия</div>
				<div class="card-body">
					<div th:each="action : ${actions}">
						<h5 class="card-title" th:text="${action.name}"></h5>
						<p th:utext="${action.description}" />
					</div>
				</div>
			</div>
			<div th:if="${!reactions.empty}" class="card">
				<div class="card-header">Реакции</div>
				<div class="card-body">
					<div th:each="action : ${reactions}">
						<b th:text="${action.name}"></b>
						<div th:utext="${action.description}"></div>
					</div>
				</div>
			</div>
			<div th:if="${!legendary.empty}" class="xard">
				<div class="card-header">Легендарные действия</div>
				<div class="card-body">
					<div th:if="${creature.legendary != null}" th:utext="*{legendary}"></div>
					<div th:each="action : ${legendary}">
						<b th:text="${action.name}"></b>
						<div th:utext="${action.description}"></div>
					</div>
				</div>
			</div>
			<div th:if="${creature.description != null}" class="card">
				<div class="card-header">Описание</div>
				<div class="card-body">
					<p th:utext="*{description}"></p>
				</div>
			</div>
		</div>
		<img class="card-img-bottom"
			th:src="@{'/resources/creatures/'+ ${creature.id} +'.jpg'}"
			align="middle" />
	</div>
</body>
</html>